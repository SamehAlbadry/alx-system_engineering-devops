#!/bin/bash

shopt -s globstar nullglob

count=0

for file in **/*/
do
    if [[ ! "$file" =~ ^\.\.\/?$ && -d "$file" ]]; then
        ((count++))
    fi
done

echo "$count"

